---
title: "Creating the Reltrad Variable in the General Social Survey Using R"
author: "David Eagle, PhD"
slug: "Creating Reltrad"
date: '2018-11-06'
output:
  html_document: default
  pdf_document: default
header:
  caption: ''
  image: ''
categories:
- Measuring religion
- R
bibliography: /Users/dee4/Box Sync/Projects/BibTexFile/MyLibrary.bib
---



<p>Haven’t you always wanted an easy to access R script to create the famous <em>reltrad</em> religious categorizaton in the General Social Survey? Well, today is your lucky day.</p>
<p>The measure of religious affiliation described in <span class="citation">(Steensland et al. 2000)</span>, otherwise known as <em>reltrad</em>, remains the most popular way to categorize people religiously in the United States. Early development of the measure was done by Corwin Smidt, Bud Kellstedt and James Guth during their annual seminars on measuring religion offered at Calvin College. The <em>reltrad</em> crowd continues to think their measure is pretty good <span class="citation">(Woodberry et al. 2012)</span>. A <em>reltrad</em> for African Americans has been developed - this is required reading for those who use <em>reltrad</em> in their research <span class="citation">(Shelton and Cobb 2017)</span>.</p>
<p>Up until now, the code to create the <em>reltrad</em> variable from the <a href="http://gss.norc.org/">General Social Survey</a> has only been available in PDF. Stata code for <em>reltrad</em> is available from <a href="http://lifewayresearch.com/wp-content/uploads/2016/02/Stata_coding_reltrad_2_19_2016.pdf">Lifeway Research</a>. Lifeway also published <a href="http://lifewayresearch.com/wp-content/uploads/2017/02/reltrad-R-Coding-2.19.2016.pdf">R code</a>. Ryan Burge has Stata code up on Github: <a href="https://github.com/ryanburge/reltrad">https://github.com/ryanburge/reltrad</a>.</p>
<p>Here, I am providing a link to my repository with an R translation of the code that is more reproducible. I apply this to the 1972-2016 GSS combined data file. Note that I do incorporate the corrections suggested by <span class="citation">(Stetzer and Burge 2016)</span>.</p>
<p>The code takes a GSS datafile and then recodes religious affiliation into the <em>reltrad</em> scheme created by Steensland et al. It breaks the US population into Conservative Protestant, Mainline Protestant, Black Protestant, Jewish, Other, and Non-Affiliated.</p>
<p>I’ve written this code in vanilla R, but resorted to the <em>car</em> package for easier recoding. The code is pretty well commented, but tweet at me or email me if you have questions. It’s also bad code that I wrote a long while ago. I’d do this differently with dplyr.</p>
<p>First, here’s how to get the NORC data down:</p>
<pre class="r"><code>#Not run
#Get the GSS data, import into a temp file and unzip
#read in the GSS data
#Convert to R data format
#Save
library(dplyr)
temp &lt;- tempfile()
download.file(&quot;http://gss.norc.org/documents/stata/GSS_stata.zip&quot;,temp)
unzip(temp, files=&quot;GSS7216_R4.DTA&quot;,exdir = &quot;OrigData&quot;)
unlink(temp);rm(temp)
gss = haven::read_dta(&quot;OrigData/GSS7216_R4.DTA&quot;)
#Load the data
#
#Get the variables we want, this is a huge dataset.
#Save where you like:
file = &quot;OrigData/gss7216.data&quot;
gss =  gss %&gt;% select(relig, other, race, denom, year, attend, id, wtssall, sample)
save(gss, file=file)
names(gss)</code></pre>
<p>The full code to create <em>reltrad</em> in R lives <a href="https://github.com/thebigbird/davideagleorg/raw/master/static/files/ReltradGSS.R">here</a>.</p>
<p>After the code is run, the results can be quickly tabulated. The following table looks at how the religious composition of the US has changed over time. This uses the very useful wrapper <em>crosstab( )</em> for the <em>CrossTable( )</em> function in the package <a href="https://cran.r-project.org/web/packages/descr/descr.pdf">descr</a>. It allows you to make weighted crosstabs easily and prettily. In subsequent posts, I will have some fun with ggplot to visual these data.</p>
<pre class="r"><code>## @knitr ReltradTable
print(
  crosstab(gss$year,gss$reltrad,
           weight = gss$wtssall, prop.c = T, prop.r = T, prop.t = F, 
           total.c = F, plot = F))</code></pre>
<pre><code>##    Cell Contents 
## |-------------------------|
## |                   Count | 
## |             Row Percent | 
## |          Column Percent | 
## |-------------------------|
## 
## =========================================================================
##            gss$reltrad
## gss$yer    Cnsrv P   Mnln Pr   Blck Pr   Rmn Cth   Jewish   Other    None
## -------------------------------------------------------------------------
## 1972          264       450       220       440       48      31      83 
##              17.2%     29.3%     14.3%     28.6%     3.1%    2.0%    5.4%
##               2.0%      3.8%      4.5%      2.8%     4.0%    1.8%    1.2%
## -------------------------------------------------------------------------
## 1973          298       425       135       397       41      34      99 
##              20.9%     29.7%      9.4%     27.8%     2.9%    2.4%    6.9%
##               2.2%      3.6%      2.8%      2.5%     3.4%    2.0%    1.4%
## -------------------------------------------------------------------------
## 1974          309       428       128       389       45       8     104 
##              21.9%     30.3%      9.1%     27.6%     3.2%    0.6%    7.4%
##               2.3%      3.6%      2.6%      2.5%     3.7%    0.5%    1.5%
## -------------------------------------------------------------------------
## 1975          303       459       122       377       23      17     109 
##              21.5%     32.6%      8.7%     26.7%     1.6%    1.2%    7.7%
##               2.2%      3.9%      2.5%      2.4%     1.9%    1.0%    1.5%
## -------------------------------------------------------------------------
## 1976          337       414        98       410       26      14     110 
##              23.9%     29.4%      7.0%     29.1%     1.8%    1.0%    7.8%
##               2.5%      3.5%      2.0%      2.6%     2.2%    0.8%    1.5%
## -------------------------------------------------------------------------
## 1977          328       437       130       395       32      17      90 
##              23.0%     30.6%      9.1%     27.6%     2.2%    1.2%    6.3%
##               2.4%      3.7%      2.7%      2.5%     2.7%    1.0%    1.3%
## -------------------------------------------------------------------------
## 1978          345       416       132       403       29      17     116 
##              23.7%     28.5%      9.1%     27.6%     2.0%    1.2%    8.0%
##               2.6%      3.5%      2.7%      2.5%     2.4%    1.0%    1.6%
## -------------------------------------------------------------------------
## 1980          336       397       109       371       28      29     100 
##              24.5%     29.0%      8.0%     27.1%     2.0%    2.1%    7.3%
##               2.5%      3.3%      2.3%      2.3%     2.3%    1.7%    1.4%
## -------------------------------------------------------------------------
## 1982          320       431       114       385       32      18     106 
##              22.8%     30.7%      8.1%     27.4%     2.3%    1.3%    7.5%
##               2.4%      3.6%      2.4%      2.4%     2.7%    1.1%    1.5%
## -------------------------------------------------------------------------
## 1983          346       393       115       450       40      24     119 
##              23.3%     26.4%      7.7%     30.3%     2.7%    1.6%    8.0%
##               2.6%      3.3%      2.4%      2.8%     3.3%    1.4%    1.7%
## -------------------------------------------------------------------------
## 1984          366       307       117       402       26      22     100 
##              27.3%     22.9%      8.7%     30.0%     1.9%    1.6%    7.5%
##               2.7%      2.6%      2.4%      2.5%     2.2%    1.3%    1.4%
## -------------------------------------------------------------------------
## 1985          424       323       114       405       33      22     109 
##              29.7%     22.6%      8.0%     28.3%     2.3%    1.5%    7.6%
##               3.1%      2.7%      2.4%      2.6%     2.7%    1.3%    1.5%
## -------------------------------------------------------------------------
## 1986          374       293       123       403       37      30     101 
##              27.5%     21.5%      9.0%     29.6%     2.7%    2.2%    7.4%
##               2.8%      2.5%      2.5%      2.5%     3.1%    1.8%    1.4%
## -------------------------------------------------------------------------
## 1987          374       327       137       361       19      29     103 
##              27.7%     24.2%     10.1%     26.7%     1.4%    2.1%    7.6%
##               2.8%      2.8%      2.8%      2.3%     1.6%    1.7%    1.4%
## -------------------------------------------------------------------------
## 1988          370       281       116       401       30      41     114 
##              27.3%     20.8%      8.6%     29.6%     2.2%    3.0%    8.4%
##               2.7%      2.4%      2.4%      2.5%     2.5%    2.4%    1.6%
## -------------------------------------------------------------------------
## 1989          371       335       110       401       23      33     120 
##              26.6%     24.0%      7.9%     28.8%     1.7%    2.4%    8.6%
##               2.7%      2.8%      2.3%      2.5%     1.9%    1.9%    1.7%
## -------------------------------------------------------------------------
## 1990          315       322       105       335       26      45     106 
##              25.1%     25.7%      8.4%     26.7%     2.1%    3.6%    8.5%
##               2.3%      2.7%      2.2%      2.1%     2.2%    2.7%    1.5%
## -------------------------------------------------------------------------
## 1991          409       295       144       407       29      25      95 
##              29.1%     21.0%     10.3%     29.0%     2.1%    1.8%    6.8%
##               3.0%      2.5%      3.0%      2.6%     2.4%    1.5%    1.3%
## -------------------------------------------------------------------------
## 1993          442       314       119       368       33      44     143 
##              30.2%     21.5%      8.1%     25.2%     2.3%    3.0%    9.8%
##               3.3%      2.6%      2.5%      2.3%     2.7%    2.6%    2.0%
## -------------------------------------------------------------------------
## 1994          727       565       231       803       57     112     267 
##              26.3%     20.5%      8.4%     29.1%     2.1%    4.1%    9.7%
##               5.4%      4.8%      4.8%      5.1%     4.7%    6.6%    3.7%
## -------------------------------------------------------------------------
## 1996          705       523       242       703       61     153     345 
##              25.8%     19.1%      8.9%     25.7%     2.2%    5.6%   12.6%
##               5.2%      4.4%      5.0%      4.4%     5.1%    9.0%    4.8%
## -------------------------------------------------------------------------
## 1998          671       458       224       731       49      77     383 
##              25.9%     17.7%      8.6%     28.2%     1.9%    3.0%   14.8%
##               5.0%      3.9%      4.6%      4.6%     4.1%    4.5%    5.4%
## -------------------------------------------------------------------------
## 2000          604       453       246       716       63      98     397 
##              23.4%     17.6%      9.5%     27.8%     2.4%    3.8%   15.4%
##               4.5%      3.8%      5.1%      4.5%     5.2%    5.8%    5.6%
## -------------------------------------------------------------------------
## 2002          582       459       210       700       41      97     379 
##              23.6%     18.6%      8.5%     28.4%     1.7%    3.9%   15.4%
##               4.3%      3.9%      4.3%      4.4%     3.4%    5.7%    5.3%
## -------------------------------------------------------------------------
## 2004          607       387       193       692       58     113     393 
##              24.8%     15.8%      7.9%     28.3%     2.4%    4.6%   16.1%
##               4.5%      3.3%      4.0%      4.4%     4.8%    6.7%    5.5%
## -------------------------------------------------------------------------
## 2006          901       599       337      1202       86     128     710 
##              22.7%     15.1%      8.5%     30.3%     2.2%    3.2%   17.9%
##               6.7%      5.1%      7.0%      7.6%     7.1%    7.5%   10.0%
## -------------------------------------------------------------------------
## 2008          386       262       151       505       34      62     338 
##              22.2%     15.1%      8.7%     29.1%     2.0%    3.6%   19.4%
##               2.9%      2.2%      3.1%      3.2%     2.8%    3.7%    4.7%
## -------------------------------------------------------------------------
## 2010          383       264       152       513       33      70     365 
##              21.5%     14.8%      8.5%     28.8%     1.9%    3.9%   20.5%
##               2.8%      2.2%      3.1%      3.2%     2.7%    4.1%    5.1%
## -------------------------------------------------------------------------
## 2012          435       239       127       477       29      82     388 
##              24.5%     13.4%      7.1%     26.8%     1.6%    4.6%   21.8%
##               3.2%      2.0%      2.6%      3.0%     2.4%    4.8%    5.4%
## -------------------------------------------------------------------------
## 2014          393       308       153       639       38      97     520 
##              18.3%     14.3%      7.1%     29.7%     1.8%    4.5%   24.2%
##               2.9%      2.6%      3.2%      4.0%     3.2%    5.7%    7.3%
## -------------------------------------------------------------------------
## 2016          490       291       189       668       57     107     618 
##              20.2%     12.0%      7.8%     27.6%     2.4%    4.4%   25.5%
##               3.6%      2.5%      3.9%      4.2%     4.7%    6.3%    8.7%
## =========================================================================</code></pre>
<div id="references" class="section level3 unnumbered">
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-sheltonBlackReltradMeasuring2017">
<p>Shelton, Jason E., and Ryon J. Cobb. 2017. “Black Reltrad: Measuring Religious Diversity and Commonality Among African Americans.” <em>Journal for the Scientific Study of Religion</em> 56 (4): 737–64. <a href="https://doi.org/10/gfgw25">https://doi.org/10/gfgw25</a>.</p>
</div>
<div id="ref-steenslandMeasureAmericanReligion2000">
<p>Steensland, B., L. D. Robinson, W. B. Wilcox, J. Z. Park, M. D. Regnerus, and R. D. Woodberry. 2000. “The Measure of American Religion: Toward Improving the State of the Art.” <em>Social Forces</em> 79 (1): 291–318. <a href="https://doi.org/10/db9hrh">https://doi.org/10/db9hrh</a>.</p>
</div>
<div id="ref-stetzerReltradCodingProblems2016">
<p>Stetzer, Ed, and Ryan P. Burge. 2016. “Reltrad Coding Problems and a New Repository.” <em>Politics and Religion</em> 9 (01): 187–90. <a href="https://doi.org/10/gfkc5x">https://doi.org/10/gfkc5x</a>.</p>
</div>
<div id="ref-woodberryMeasureAmericanReligious2012">
<p>Woodberry, R. D., J. Z. Park, L. A. Kellstedt, M. D. Regnerus, and B. Steensland. 2012. “The Measure of American Religious Traditions: Theoretical and Measurement Considerations.” <em>Social Forces</em> 91 (1): 65–73. <a href="https://doi.org/10.1093/sf/sos121">https://doi.org/10.1093/sf/sos121</a>.</p>
</div>
</div>
</div>
